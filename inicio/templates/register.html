{% extends 'base.html' %}
{% block content %}

<div class="content-box" style="
    max-width: 800px; 
    margin: 20px auto; 
    padding: 40px; 
    background: linear-gradient(135deg, #eff6ff, #ffffff);
    border: 1px solid #bfdbfe;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
">
    <h1 class="uni-title" style="font-size: 2rem; margin-bottom: 30px; text-align: center;">â¤ï¸ RegÃ­strate en LIA â¤ï¸</h1>
    <p style="color: #475569; font-size: 1.1rem; margin-bottom: 30px;">
        Completa el formulario a continuaciÃ³n para unirte a nuestra plataforma de apoyo universitario.
    </p>
    
    <form method="post" style="padding: 10px 0; text-align: left;">
        {% csrf_token %}
        
        <div style="display: grid; 
                    grid-template-columns: 1fr 1fr; 
                    gap: 30px 20px; 
                    padding: 20px 0;">
            
            
            <div style="grid-column: 1 / -1; margin-bottom: 10px;">
                <h2 style="font-size: 1.3rem; margin-bottom: 15px; color: var(--color-uni-blue);">ğŸ“ Datos de Perfil</h2>
            </div>


            {% for field in formulario %}
                
                {% if field.name == 'password1' %}
                    <div style="grid-column: 1 / -1; margin-bottom: 10px; padding-top: 15px; border-top: 1px solid #a7ccfd; text-align: left;">
                        <h2 style="font-size: 1.3rem; margin-bottom: 15px; color: var(--color-uni-red);">ğŸ”‘ Datos de Seguridad</h2>
                    </div>
                {% endif %}


                <div style="margin-bottom: 5px; text-align: left; 
                            {% if field.name == 'password1' or field.name == 'password2' %} grid-column: 1 / -1; {% endif %}">
                    
                    
                    <label for="{{ field.id_for_label }}" style="display: block; font-weight: bold; margin-bottom: 5px; color: #1e293b; font-size: 1rem;">
                        {% if field.name == 'username' %}ğŸ‘¤ Nombre de Usuario
                        {% elif field.name == 'email' %}ğŸ“§ Correo ElectrÃ³nico
                        {% elif field.name == 'first_name' %}âœ¨ Nombres
                        {% elif field.name == 'last_name' %}surname Apellidos
                        {% elif field.name == 'rol_universitario' %}ğŸ†” Rol Universitario
                        {% elif field.name == 'rol' %}ğŸ“ Rol en el Proyecto
                        {% elif field.name == 'nombre_social' %}ğŸ’– Nombre Social
                        {% elif field.name == 'edad' %}ğŸ‚ Edad
                        {% elif field.name == 'carrera' %}ğŸ“š Carrera
                        {% elif field.name == 'aÃ±o_estudio' %}ğŸ“… AÃ±o de Estudio
                        {% elif field.name == 'password1' %}ğŸ”’ ContraseÃ±a
                        {% elif field.name == 'password2' %}ğŸ”’ Confirmar ContraseÃ±a
                        {% else %}{{ field.label }}
                        {% endif %}
                        
                        {% if field.field.required %} <span style="color: #ef4444;">*</span>{% endif %}
                    </label>
                    {{ field.as_widget}}
                    {% if field.help_text %}
                        <p style="color: #64748b; font-size: 0.85rem; margin-top: 5px; text-align: left; line-height: 1.3;">
                            {% if field.name == 'username' %}Requerido. 150 caracteres o menos. Letras, dÃ­gitos y @/./+/-/_ solamente.
                            {% elif field.name == 'rol_universitario' %}Tu nÃºmero de identificaciÃ³n universitaria (ej: 12345678-9).
                            {% elif field.name == 'password2' %}Para verificar, introduzca la misma contraseÃ±a anterior.
                            {% else %}{{ field.help_text }} 
                            {% endif %}
                        </p>
                    {% endif %}
                    
                    {% if field.name == 'password2' %}
                        <p style="margin-top: 10px; margin-bottom: 5px; color: #1e293b; font-weight: 500;">ğŸ”’ Condiciones de ContraseÃ±a:</p>
                        <ul style="list-style-type: none; padding-left: 0; font-size: 0.9rem; color: #475569; margin-top: 5px;">
                            <li>â€¢ Su contraseÃ±a debe contener al menos 8 caracteres.</li>
                            <li>â€¢ Su contraseÃ±a no puede ser solo numÃ©rica.</li>
                        </ul>
                    {% endif %}

                    {% for error in field.errors %}
                        <p style="color: #ef4444; font-size: 0.9rem; margin-top: 5px; text-align: left;">{{ error }}</p>
                    {% endfor %}
                </div>
            {% endfor %}

        </div>
        
        <button type="submit" class="nav-item" style="width: 100%; margin-top: 30px; background: #10b981; color: white; border-color: #10b981; cursor: pointer; font-size: 1.2rem;">
            Completar Registro
        </button>
        
        <p class="footer-text" style="text-align: center; margin-top: 20px; border-top: none;">
            Â¿Ya tienes cuenta? <a href="{% url 'inicio:login' %}" style="color: #2563eb; text-decoration: none; font-weight: bold;">Inicia SesiÃ³n aquÃ­.</a>
        </p>
    </form>
</div>
{% endblock %}